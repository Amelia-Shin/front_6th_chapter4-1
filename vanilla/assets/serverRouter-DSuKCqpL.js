import{b as e}from"./items-K3fazGuU.js";function t(){let t={};return e.forEach(e=>{let n=e.category1,r=e.category2;t[n]||(t[n]={}),r&&!t[n][r]&&(t[n][r]={})}),t}function n(e,t){let n=[...e];if(t.search){let e=t.search.toLowerCase();n=n.filter(t=>t.title.toLowerCase().includes(e)||t.brand.toLowerCase().includes(e))}if(t.category1&&(n=n.filter(e=>e.category1===t.category1)),t.category2&&(n=n.filter(e=>e.category2===t.category2)),t.sort)switch(t.sort){case`price_asc`:n.sort((e,t)=>parseInt(e.lprice)-parseInt(t.lprice));break;case`price_desc`:n.sort((e,t)=>parseInt(t.lprice)-parseInt(e.lprice));break;case`name_asc`:n.sort((e,t)=>e.title.localeCompare(t.title,`ko`));break;case`name_desc`:n.sort((e,t)=>t.title.localeCompare(e.title,`ko`));break;default:n.sort((e,t)=>parseInt(e.lprice)-parseInt(t.lprice))}return n}function r(t={}){let{limit:r=20,search:i=``,category1:a=``,category2:o=``,sort:s=`price_asc`}=t,c=t.current??t.page??1,l=n(e,{search:i,category1:a,category2:o,sort:s}),u=(c-1)*r,d=u+r,f=l.slice(u,d);return{products:f,pagination:{page:c,limit:r,total:l.length,totalPages:Math.ceil(l.length/r),hasNext:d<l.length,hasPrev:c>1},filters:{search:i,category1:a,category2:o,sort:s}}}function i(t){let n=e.find(e=>e.productId===t);if(!n)throw Error(`Product not found`);return{...n,description:`${n.title}에 대한 상세 설명입니다. ${n.brand} 브랜드의 우수한 품질을 자랑하는 상품으로, 고객 만족도가 높은 제품입니다.`,rating:Math.floor(Math.random()*2)+4,reviewCount:Math.floor(Math.random()*1e3)+50,stock:Math.floor(Math.random()*100)+10,images:[n.image,n.image.replace(`.jpg`,`_2.jpg`),n.image.replace(`.jpg`,`_3.jpg`)]}}function a(){return t()}export{a as getCategoriesSSR,i as getProductSSR,r as getProductsSSR};